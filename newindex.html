<!DOCTYPE html>
<html lang="en-us">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Carpool Vote</title>
    <meta name="description" content="" property="description">
    <meta name="keywords" content="" property="keywords">

    <meta property="og:url" content="http://carpoolvote.com" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Carpool Vote - Vote America" />
    <meta property="og:description" content="Get a ride, or share a ride to vote, or register to vote. Support every American's right to vote!" />
    <meta property="og:image" content="http://carpoolvote/com/res/img/logo_fb.png?v=2" />

    <link rel="icon" href="favicon.ico">
    <link href='https://fonts.googleapis.com/css?family=Lato:400,300,700' rel='stylesheet' type='text/css'>

    <link type="text/css" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/css/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="res/jquery.datetimepicker.min.css">
    <link type="text/css" rel="stylesheet" href="res/nouislider.min.css">
    <link type="text/css" rel="stylesheet" href="res/styles.css">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <style>
        /* Sticky footer styles -------------------------------------------------- */
        
        html {
            position: relative;
            min-height: 100%;
        }
        
        body {
            /* Margin bottom by footer height */
            margin-bottom: 100px;
        }
        
        .footer {
            position: absolute;
            bottom: 0;
            width: 100%;
            /* Set the fixed height of the footer here */
            height: 100px;
            background-color: #f5f5f5;
        }
        /* end Sticky footer styles */
        
        #jumboMain {
            color: #423d3d;
        }
    </style>
</head>

<body>
    <!-- Load Facebook SDK for JavaScript -->
    <div id="fb-root"></div>
    <script>
        // Facebook SDK
        (function(d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) return;
            js = d.createElement(s);
            js.id = id;
            js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.5";
            fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));
    </script>

    <div class="container">
        <div class="header clearfix row">
            <nav>
                <div class="col-sm-4">
                    <!-- <li role="presentation" class="active"><a href="#">Home</a></li> -->
                    <!-- <li role="presentation"><a href="#">About</a></li> -->
                    <!-- <li role="presentation"><a href="#">Contact</a></li> -->
                </div>

                <div class="col-sm-4">
                    <img id="logo" class="img-responsive center-block" src="res/img/carpool-vote-logo-WEB.jpg?v=2" alt="CARPOOL VOTE" />
                </div>

                <div class="col-sm-4">
                    <ul class="nav nav-pills pull-right">
                        <li role="presentation" style="padding-top:10px">
                            <a href="https://twitter.com/intent/tweet" class="twitter-mention-button" data-size="large" data-text="Support #DemocracyForAll this #Election2016. Sign up on @CarpoolVote.com: Linking volunteer drivers w voters needing a ride. #TogetherWeCan" data-related=""
                                data-show-count="false">Tweet to help others find out about this!</a>
                            <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
                        </li>

                        <li role="presentation" style="padding-top:10px">
                            <div class="fb-share-button" data-href="http://carpoolvote.com?v=1" data-layout="button"></div>
                        </li>
                    </ul>
                </div>
            </nav>
        </div>

        <div class="jumbotron" id="jumboMain">
            <div id="pnlIntro">

                <h1>Every American DESERVES a Vote</h1>
                <p class="lead">Dozens of states have made it more difficult to get to polling stations.</p>
                <p>Minorities are particularly affected.</p>
                <p>Carpool Vote is a platform that introduces volunteer drivers to people who need a ride to the polling station.</p>
                <p>Can you help?</p>

                <div class="row">
                    <div class="col-sm-6">
                        <p>
                            <button class="btn btn-lg btn-primary btn-block" href="#" role="button" id="btnNeedRide">
                            <span class="glyphicon glyphicon glyphicon-user" aria-hidden="true"></span>
                            I need a ride</button>
                        </p>
                    </div>
                    <div class="col-sm-6">
                        <p>
                            <button class="btn btn-lg btn-success btn-block" href="#" role="button" id="btnOfferRide">
                                <span class="glyphicon glyphicon-road" aria-hidden="true"></span>
                                I can offer a ride
                            </button>
                        </p>
                    </div>
                </div>
            </div>
            <!-- intro -->

            <div id="pnlNeedRide">
                <form name="needRide" action="https://api.carpoolvote.com/rider" method="post" class="form-horizontal" data-toggle="validator" role="form">
                    <input type="hidden" name="_redirect" class="redirect" value="http://carpoolvote.com" />
                    <input type="hidden" name="Timestamp" class="Timestamp" />
                    <input type="hidden" name="Kind" value="Rider" />
                    <input type="hidden" name="hiddenJSONTimes" value="" />
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h3 class="panel-title">I need a ride</h3>
                        </div>
                        <div class="panel-body">

                            <div class="row">
                                <div class="col-lg-offset-2 col-lg-10">
                                    <h4>Need a ride to claim your vote?</h4>
                                    <h4>Some of our riders need to get to the polls - either on polling day or during early voting. Others need to travel to get a photo I.D.</h4>
                                    <h4>Just fill in this form! We'll try to connect you with a driver.</h4>
                                </div>

                                <br/>

                                <div class="form-group">
                                    <div class="col-sm-offset-1 col-sm-10">
                                        <h5>When and where do you need picking up?</h5>
                                    </div>
                                </div>

                                <div class="date-container col-sm-offset-1 col-sm-10">
                                    <div class="date-time-pickers form-group">
                                        <label for="rider-date" class="control-label">Date available</label>
                                        <input type="text" class="riderdatepicker datepicker form-control col-md-4" id="rider-date" name="RiderDate" required>

                                        <label for="rider-time-slider" class="control-label">Time range available</label>
                                        <div id="rider-time-slider" class="time-range-slider col-md-8">
                                        </div>

                                        <h5 class="times-list-title">Available times:</h5>
                                        <button type="button" class="add-time-btn" id="rider-add-time">
                                            ➕ Add <span class="button-date" id="rider-button-date"></span>,
                                            <span class="button-time" id="rider-button-time">6:00am-10:00pm</span>
                                        </button>
                                        <p>(add as many dates and time ranges as you like)</p>
                                        <ul class="available-times-list" id="rider-available-times">
                                        </ul>

                                        <div class="selected-dates">
                                        </div>

                                        <input type="hidden" class="hiddenJSONTimes" id="riderJSONTimes" name="riderDateTimeRangesJSON" value="{}">
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="rideState" class="col-sm-2 control-label">State</label>
                                    <div class="col-sm-2">
                                        <select class="form-control" id="rideState" placeholder="State" name="State" required>
                                            <option value="AL">AL</option>
                                            <option value="AK">AK</option>
                                            <option value="AZ">AZ</option>
                                            <option value="AR">AR</option>
                                            <option value="CA">CA</option>
                                            <option value="CO">CO</option>
                                            <option value="CT">CT</option>
                                            <option value="DE">DE</option>
                                            <option value="DC">DC</option>
                                            <option value="FL">FL</option>
                                            <option value="GA">GA</option>
                                            <option value="HI">HI</option>
                                            <option value="ID">ID</option>
                                            <option value="IL">IL</option>
                                            <option value="IN">IN</option>
                                            <option value="IA">IA</option>
                                            <option value="KS">KS</option>
                                            <option value="KY">KY</option>
                                            <option value="LA">LA</option>
                                            <option value="ME">ME</option>
                                            <option value="MD">MD</option>
                                            <option value="MA">MA</option>
                                            <option value="MI">MI</option>
                                            <option value="MN">MN</option>
                                            <option value="MS">MS</option>
                                            <option value="MO">MO</option>
                                            <option value="MT">MT</option>
                                            <option value="NE">NE</option>
                                            <option value="NV">NV</option>
                                            <option value="NH">NH</option>
                                            <option value="NJ">NJ</option>
                                            <option value="NM">NM</option>
                                            <option value="NY">NY</option>
                                            <option value="NC">NC</option>
                                            <option value="ND">ND</option>
                                            <option value="OH">OH</option>
                                            <option value="OK">OK</option>
                                            <option value="OR">OR</option>
                                            <option value="PA">PA</option>
                                            <option value="RI">RI</option>
                                            <option value="SC">SC</option>
                                            <option value="SD">SD</option>
                                            <option value="TN">TN</option>
                                            <option value="TX">TX</option>
                                            <option value="UT">UT</option>
                                            <option value="VT">VT</option>
                                            <option value="VA">VA</option>
                                            <option value="WA">WA</option>
                                            <option value="WV">WV</option>
                                            <option value="WI">WI</option>
                                            <option value="WY">WY</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="rideArea" class="col-sm-2 control-label">Collection zip code</label>
                                    <div class="col-sm-9">
                                        <input type="number" class="form-control" pattern="(\d{5}?)" id="rideArea" placeholder="Where can you meet the driver" name="Origin" required>
                                    </div>
                                </div>




                                <div class="form-group">
                                    <label for="rideDestinationAddress" class="col-sm-2 control-label">Destination address</label>
                                    <div class="col-sm-9">
                                        <input type="text" class="form-control" id="rideDestinationAddress" placeholder="To where do you need a ride?" name="RiderDestinationAddress" required>
                                    </div>
                                </div>

                                <!--
                                        Would be cool if we could get the sanitized address from a google map or something,
                                        with component parts (street address, city, state, zip)
                                -->

                                <div class="form-group">
                                    <label for="rideDestinationZIP" class="col-sm-2 control-label">Destination ZIP Code</label>
                                    <div class="col-sm-9">
                                        <input type="text" class="form-control" id="rideDestinationZip" placeholder="To where do you need a ride?" name="RiderDestinationZIP" required>
                                    </div>
                                </div>


                                <div class="form-group">
                                    <div class="col-sm-offset-1 col-sm-10">
                                        <h5> Seating Needs </h5>
                                        <h6>
                                            Please let us know how how many people will need to travel together in the SAME CAR.
                                        </h6>
                                        <h6>
                                            (To make it easier for us to match people, please complete an individual form if you do not need travel with anybody else.)
                                        </h6>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="rideSeats" class="col-sm-2 control-label">Seats (non-wheelchair)</label>
                                    <div class="col-sm-10">
                                        <input type="text" class="form-control" id="rideSeats" placeholder="Ordinary seats: How many non-wheelchair seats do you need in the same car?" name="Seats" required>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="riderIsPowerChairUser" class="col-sm-2 control-label">Wheelchair</label>
                                    <div class="col-sm-10">
                                        <!--
                                            <input type="text" class="form-control" id="riderWheelchair" placeholder="Wheelchair-accessible ride: How many wheelchair users need to travel in the same car?" name="RiderWheelchair" required>
                                        -->
                                        <input type="checkbox" name="RiderUsesPowerChair" value="true" id="riderIsPowerChairUser"> I am a powerchair user who needs an adapted van with a lift
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="rideReturn" class="col-sm-2 control-label">Return Trip</label>
                                    <div class="col-sm-9">
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox" name="RiderReturn" value="true" id="rideReturn">
                                                I need a two-way trip
                                            </label>
                                        </div>
                                    </div>
                                </div>


                                <div class="form-group">
                                    <label for="rideNotes" class="col-sm-2 control-label">Notes</label>
                                    <div class="col-sm-9">
                                        <input type="text" class="form-control" id="rideNotes" placeholder="I have the following accommodation requirements (ex: service animal, assistance folding equipment, assistance entering and exiting car)" name="Notes">
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div class="col-sm-offset-1 col-sm-10">
                                        <h5>Your details</h5>
                                    </div>
                                </div>


                                <div class="form-group">
                                    <label for="riderFirstName" class="col-sm-2 control-label">First Name</label>
                                    <div class="col-sm-9">
                                        <input type="text" class="form-control" id="riderFirstName" placeholder="Your first name" name="RiderFirstName" required>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="riderLastName" class="col-sm-2 control-label">Last Name</label>
                                    <div class="col-sm-9">
                                        <input type="text" class="form-control" id="riderLastName" placeholder="Your last name" name="RiderLastName" required>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="riderEmail" class="col-sm-2 control-label">Email</label>
                                    <div class="col-sm-9">
                                        <input type="email" class="form-control" id="riderEmail" placeholder="Email" name="Email" required>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="ridePhone" class="col-sm-2 control-label">Phone</label>
                                    <div class="col-sm-9">
                                        <input type="text" class="form-control" id="ridePhone" placeholder="Phone" name="Phone">
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div class="col-sm-2 control-label checkbox"><input type="checkbox" id="legalOne"></div>
                                    <div class="col-sm-9">
                                        <label for="legalOne">I understand that Carpool Vote will share my contact details with the driver if there’s a match. (Carpool Vote will not share personal details with anybody else, unless required by law, and will destroy them within three months of election day.)</label>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div class="col-sm-2 control-label checkbox"><input type="checkbox" id="legalTwo"></div>
                                    <div class="col-sm-9">
                                        <label for="legalTwo">I understand that this service is open to any driver or rider - no matter what their personal background or beliefs. To help make sure that both the driver and I feel comfortable and safe, I promise that I will not discuss politics during the journey.</label>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div class="col-sm-offset-1 col-sm-10">
                                        <h5>Yes, please stay in Touch!</h5>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div class="col-sm-2 control-label checkbox"><input type="checkbox" id="inTouchRider" checked></div>
                                    <div class="col-sm-9">
                                        <label for="inTouchRider">We’d like to keep you updated from time to time about how the project is progressing. Please untick this box if you’d prefer us not to do this.</label>
                                    </div>
                                </div>


                                <div class="form-group">
                                    <div class="col-sm-offset-2 col-sm-4">
                                        <button type="submit" class="btn btn-default" id="needRideSubmit">Submit</button>
                                    </div>

                                    <div class="col-sm-offset-4 col-sm-2">
                                        <a id="btnRiderCancel" class="btn btn-link">Back</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="panel-footer">
                            <span style="font-weight:bold">What happens next?</span> We'll record these details and contact you if someone can help
                        </div>
                    </div>
                </form>
            </div>
            <!-- pnlNeedRide -->

            <!-- http://40.117.45.210/driver/ -->
            <div id="pnlOfferRide">
                <form name="offerRide" action="https://api.carpoolvote.com/driver" method="post" class="form-horizontal" data-toggle="validator" role="form">
                    <input type="hidden" class="redirect" name="_redirect" value="http://carpoolvote.com" />
                    <input type="hidden" name="Timestamp" class="Timestamp" />
                    <input type="hidden" name="Kind" value="Driver" />
                    <input type="hidden" name="hiddenJSONTimes" value="" />

                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h3 class="panel-title">I can offer a ride</h3>
                        </div>
                        <div class="panel-body">
                            <div class="row">
                                <div class="col-lg-offset-2 col-lg-10">
                                    <h4>Sign up to give a fellow American a ride to claim their vote.</h4>
                                    <h4>Offer to drive someone to the polls or, if you live in a state where you need to show voter I.D., drive somebody to go and get one.</h4>
                                    <h4>Just fill in this form! We'll try to connect you with someone who needs a ride.</h4>
                                </div>
                                <br/>

                                <div class="form-group">
                                    <div class="col-sm-offset-1 col-sm-10">
                                        <h5>What you can offer</h5>
                                    </div>
                                </div>

                                <div class="date-container col-sm-offset-1 col-sm-10">
                                    <div class="date-time-pickers form-group">
                                        <label for="driver-date" class="col-sm-2 control-label">Date available</label>
                                        <input type="text" class="driverdatepicker datepicker form-control" id="driver-date" name="DriverDate" required>
                                        <label for="driver-time-slider" class="col-sm-2 control-label">Time range available</label>
                                        <div id="driver-time-slider" class="time-range-slider">
                                        </div>

                                        <button type="button" class="add-time-btn" id="driver-add-time">
                                            ➕ Add <span class="button-date" id="driver-button-date"></span>,
                                            <span class="button-time" id="driver-button-time">6:00am-10:00pm</span>
                                        </button>

                                        <h5 class="times-list-title">Available times:</h5>
                                        <p>(add as many dates and time ranges as you like)</p>
                                        <ul class="available-times-list" id="driver-available-times">

                                        </ul>

                                        <div class="selected-dates">

                                        </div>

                                        <input type="hidden" class="hiddenJSONTimes" id="driverJSONTimes" name="driverDateTimeRangesJSON" value="{}">

                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="offerState" class="col-sm-2 control-label">State</label>
                                    <div class="col-sm-2">
                                        <select class="form-control" id="offerState" placeholder="State" name="State" required>
                                            <option value="AL">AL</option>
                                            <option value="AK">AK</option>
                                            <option value="AZ">AZ</option>
                                            <option value="AR">AR</option>
                                            <option value="CA">CA</option>
                                            <option value="CO">CO</option>
                                            <option value="CT">CT</option>
                                            <option value="DE">DE</option>
                                            <option value="DC">DC</option>
                                            <option value="FL">FL</option>
                                            <option value="GA">GA</option>
                                            <option value="HI">HI</option>
                                            <option value="ID">ID</option>
                                            <option value="IL">IL</option>
                                            <option value="IN">IN</option>
                                            <option value="IA">IA</option>
                                            <option value="KS">KS</option>
                                            <option value="KY">KY</option>
                                            <option value="LA">LA</option>
                                            <option value="ME">ME</option>
                                            <option value="MD">MD</option>
                                            <option value="MA">MA</option>
                                            <option value="MI">MI</option>
                                            <option value="MN">MN</option>
                                            <option value="MS">MS</option>
                                            <option value="MO">MO</option>
                                            <option value="MT">MT</option>
                                            <option value="NE">NE</option>
                                            <option value="NV">NV</option>
                                            <option value="NH">NH</option>
                                            <option value="NJ">NJ</option>
                                            <option value="NM">NM</option>
                                            <option value="NY">NY</option>
                                            <option value="NC">NC</option>
                                            <option value="ND">ND</option>
                                            <option value="OH">OH</option>
                                            <option value="OK">OK</option>
                                            <option value="OR">OR</option>
                                            <option value="PA">PA</option>
                                            <option value="RI">RI</option>
                                            <option value="SC">SC</option>
                                            <option value="SD">SD</option>
                                            <option value="TN">TN</option>
                                            <option value="TX">TX</option>
                                            <option value="UT">UT</option>
                                            <option value="VT">VT</option>
                                            <option value="VA">VA</option>
                                            <option value="WA">WA</option>
                                            <option value="WV">WV</option>
                                            <option value="WI">WI</option>
                                            <option value="WY">WY</option>
                                          </select>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="offerArea" class="col-sm-2 control-label">Collection Zip Code</label>
                                    <div class="col-sm-9">
                                        <input type="text" pattern="\d{5}-?(\d{4})?" class="form-control" id="offerArea" placeholder="Where can you collect the rider" name="DriverZIP">
                                        <label class="collection">
                                            I am willing to collect within a
                                           <input type="number" id="offerMiles" placeholder="0" name="quantity" pattern="\d*" min="1" step="1" class="miles"  />
                                            mile radius of this zip code.&nbsp;<span id="error"></span>
                                        </label>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="driverSeats" class="col-sm-2 control-label">Seats</label>
                                    <div class="col-sm-9">
                                        <input type="text" class="form-control" id="driverSeats" placeholder="How many seats can you offer?" name="DriverSeats" required>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="driverWheelchair" class="col-sm-2 control-label">Wheelchair</label>
                                    <div class="col-sm-9">
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox" name="DriverWheelchair" value="true" id="driverWheelchair">
                                                 I have an adapted van with space for a powerchair
                                            </label>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="offerNotes" class="col-sm-2 control-label">Notes</label>
                                    <div class="col-sm-9">
                                        <input type="text" class="form-control" id="offerNotes" placeholder="Any other notes" name="Notes">
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="offerInsurance" class="col-sm-2 control-label">Insurance</label>
                                    <div class="col-sm-9">
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox" name="DriverHasInsurance" value="true" id="offerInsurance">
                                                I confirm the driver has insurance
                                            </label>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div class="col-sm-offset-1 col-sm-10">
                                        <h5>Your details</h5>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="driverLastName" class="col-sm-2 control-label">First Name</label>
                                    <div class="col-sm-9">
                                        <input type="text" class="form-control" id="driverLastName" placeholder="Your first name" name="DriverLastName" required>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="driverFirstName" class="col-sm-2 control-label">Last Name</label>
                                    <div class="col-sm-9">
                                        <input type="text" class="form-control" id="driverFirstName" placeholder="Your last (family) name" name="DriverFirstName" required>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="driverEmail" class="col-sm-2 control-label">Email</label>
                                    <div class="col-sm-9">
                                        <input type="email" class="form-control" id="driverEmail" placeholder="Email Address" name="DriverEmail" required>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="driverPhone" class="col-sm-2 control-label">Phone</label>
                                    <div class="col-sm-9">
                                        <input type="text" class="form-control" id="driverPhone" placeholder="Phone Number" name="DriverPhone">
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="veh_reg" class="col-sm-2 control-label">Vehicle Reg&nbsp;#</label>
                                    <div class="col-sm-9">
                                        <input type="text" class="form-control" id="veh_reg" name="veh_reg">
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div class="col-sm-2 control-label checkbox"><input type="checkbox" id="officialDriver" value="true" name="IsOfficialDriver"></div>
                                    <div class="col-sm-9">
                                        <label for="officialDriver">
                                        I am driving in an official capacity on behalf of a registered organization
                                        </label>
                                    </div>
                                </div>

                                <div class="form-group" id="quesDriverOrgRegNumber">
                                    <label for="officialDriverOrgRegNumber" class="col-sm-2 control-label"> Organization registration number: </label>
                                    <div class="col-sm-9">
                                        <input type="text" class="form-control" id="officialDriverOrgRegNumber" name="OrganizationRegNumber"> (required if the above box is checked)
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div class="col-sm-2 control-label checkbox"><input type="checkbox" id="legalThree"></div>
                                    <div class="col-sm-9">
                                        <label for="legalThree">I understand that Carpool Vote will share my contact details with the rider(s) if there’s a match. (Carpool Vote will not share personal details with anybody else, unless required by law, and will destroy them within three months of election day.)</label>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div class="col-sm-2 control-label checkbox"><input type="checkbox" id="legalFour"></div>
                                    <div class="col-sm-9">
                                        <label for="legalFour">I understand that this service is open to any driver or rider - no matter what their personal background or beliefs. To help make sure that both the driver and I feel comfortable and safe, I promise that I will not discuss politics during the journey.</label>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div class="col-sm-offset-1 col-sm-10">
                                        <h5>Yes, please stay in Touch!</h5>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div class="col-sm-2 control-label checkbox"><input type="checkbox" id="inTouchDriver" checked></div>
                                    <div class="col-sm-9">
                                        <label for="inTouchDriver">We’d like to keep you updated from time to time about how the project is progressing. Please untick this box if you’d prefer us not to do this.</label>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div class="col-sm-offset-2 col-sm-4">
                                        <button type="submit" class="btn btn-default" id="offerRideSubmit">Submit</button>
                                    </div>

                                    <div class="col-sm-offset-4 col-sm-2">
                                        <a id="btnOfferCancel" class="btn btn-link">Back</a>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="panel-footer">
                            <span style="font-weight:bold">What happens next?</span> We'll contact you if there's a match
                        </div>
                    </div>
                </form>
            </div>
            <!-- /pnlOfferRide -->

        </div>
        <!-- /jumbo -->

        <div class="row">
            <div class="col-lg-6">
                <div class="panel panel-info">
                    <div class="panel-heading">
                        <h4 class="panel-title">What is this site?</h4>
                    </div>
                    <div class="panel-body">
                        <p>We aim to connect people willing to give rides to registration offices or polling stations</p>
                        <p> - with -</p>
                        <p>Anybody who needs a ride</p>
                    </div>
                </div>
            </div>

            <div class="col-lg-6">
                <div class="panel panel-info">
                    <div class="panel-heading">
                        <h4 class="panel-title">How To Claim Your Vote!</h4>
                    </div>
                    <div class="panel-body">

                        <div id="state-details">
                            <p class="state-caption">Am I registered?</p>
                        </div>

                        <p class="state-intro">Select your state check if you're registered to vote on the November 8 presidential election</p>

                        <div class="rock-image">
                            <img src="res/img/rock.png" />
                        </div>
                        <p class="rock-vote-description">Rock the vote has several online tools that simplify and demystify voter registration and elections. Follow the links below for more on how to claim your vote!
                            <ul class="rock-vote-links">
                                <li><a href="https://www.rockthevote.com/register-to-vote/?source=voteamerica" target="_rtv">Register to vote!</a></li>
                                <li><a href="https://www.rockthevote.com/get-informed/elections/voter-id-requirements/state/" target="_rtv">Voter requirements</a></li>
                                <li><a href="https://www.rockthevote.com/get-informed/elections/find-your-polling-place/" target="_rtv">Find where to vote</a></li>
                                <li><a href="https://www.rockthevote.com/get-informed/elections/" target="_rtv">About elections</a></li>
                            </ul>

                            <p class="rock-vote-support">Need further support?</p>

                            <img class="election-protection" src="res/img/election-protection.png" />

                            <p>The <a class="election-protection-link" href="http://www.866ourvote.org/">Election Protection Coalition</a> works around the clock to advance and defend your right to vote. Report voting problems, and get voting-related information
                                on your state, by calling 866-OURVOTE.
                            </p>
                    </div>
                </div>
            </div>

            <div class="col-lg-6">
                <div class="panel panel-info">
                    <div class="panel-heading">
                        <h4 class="panel-title">Why are we doing this?</h4>
                    </div>
                    <div class="panel-body">
                        <p>We're excited about empowering people who may find it difficult to get to the polls.</p>

                        <p class="">Changes regarding timing and voting locations have hurt democracy in America. We believe that everyone should be able to exercise their democratic rights.
                        </p>

                        <p>Voter suppression affects everyone, but particularly lower-income People of Color, people with disabilities, young people, and women.</p>

                        <p>It looks like the upcoming election will be a much closer fight than many had anticipated - and so is particularly important.
                        </p>
                        <p>Even more so as: </p>
                        <ul>
                            <li> Polling stations face closure in lower-income Communities of Color,</li>
                            <li> Would-be voters have to travel out of town to get a photo ID to register,</li>
                            <li> The periods available to register and vote become shorter, and</li>
                            <li> Requesting an absentee ballot or voting by mail can be difficult in many states.</li>
                        </ul>


                        <p>We're excited about getting people from all walks of life involved in the political process!
                        </p>


                        <p class="">To help avoid any American losing their chance to vote, please do share this site with your friends and family.
                        </p>

                    </div>
                </div>
            </div>

            <div class="col-lg-6">
                <div class="panel panel-info">
                    <div class="panel-heading">
                        <h4 class="panel-title">Voting support</h4>
                    </div>
                    <div class="panel-body">
                        <p>The Electoral Protection Coalition works around the clock to advance and defend your right to vote.
                        </p>

                        <p>Report voting problems, and get voting relating info for your state.
                        </p>
                        <p><span class="glyphicon glyphicon glyphicon-hand-up" aria-hidden="true"></span> Visit <a href="http://www.866ourvote.org/"> 866ourvote.org</a>
                        </p>
                        <p><span class="glyphicon glyphicon glyphicon-phone" aria-hidden="true"></span> Call <a href="tel:866OURVOTE">866OURVOTE</a>
                        </p>

                    </div>
                </div>
            </div>

            <div class="col-lg-6">
                <div class="panel panel-info">
                    <div class="panel-heading">
                        <h4 class="panel-title">Newsletter</h4>
                    </div>
                    <div class="panel-body">
                        We continue to make improvements to our platform to make it effective for as many voters as possible. To keep updated with the project,
                        <a href="http://eepurl.com/ccdDlv" target="_blank" class="">sign up for our newsletter.</a>
                    </div>
                </div>
            </div>

            <!-- TODO: Change over to the Node App  -->
            <div class="col-lg-6">
                <div class="panel panel-info">
                    <div class="panel-heading">
                        <h4 class="panel-title">Can I help some other way?</h4>
                    </div>
                    <div class="panel-body">
                        <p>Absolutely!</p>

                        <p>Please use the social media links to share this site, but also let us know if you can help out with any of this below </p>
                        <!--
                            https://api.cloudstitch.com/carpool/carpoolvote/datasources/sheet
                        -->
                        <form name="offerHelp" action="https://api.carpoolvote.com/helper" method="post" class="form-horizontal" data-toggle="validator" role="form">
                            <input type="hidden" name="_redirect" class="redirect" value="http://carpoolvote.com" />
                            <input type="hidden" name="Timestamp" class="Timestamp" />
                            <input type="hidden" name="Kind" value="Helper" />

                            <div class="form-group">
                                <label for="helpName" class="col-sm-2 control-label">Name</label>
                                <div class="col-sm-10">
                                    <input type="text" class="form-control" id="helpName" placeholder="Your name" name="Name" required>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="helpEmail" class="col-sm-2 control-label">Email</label>
                                <div class="col-sm-10">
                                    <input type="email" class="form-control" id="helpEmail" placeholder="Email" name="Email" required>
                                </div>
                            </div>

                            <div class="form-group">
                                <div class="col-sm-offset-2 col-sm-10">
                                    <div class="checkbox">
                                        <label>
                                        <input type="checkbox" name="Capability" value="build links">
                                        I can help build links with organizations and communities
                                    </label>
                                    </div>
                                    <div class="checkbox">
                                        <label>
                                        <input type="checkbox" name="Capability" value="community organize">
                                            I can organize my own community
                                    </label>
                                    </div>
                                    <div class="checkbox">
                                        <label>
                                        <input type="checkbox" name="Capability" value="collaboration">
                                        Set up collaboration with my organization
                                    </label>
                                    </div>
                                    <div class="checkbox">
                                        <label>
                                        <input type="checkbox" name="Capability" value="awareness">
                                    Help get the word out
                                    </label>
                                    </div>
                                    <div class="checkbox">
                                        <label>
                                        <input type="checkbox" name="Capability" value="research">
                                    Do research
                                    </label>
                                    </div>
                                    <div class="checkbox">
                                        <label>
                                        <input type="checkbox" name="Capability" value="legal">
                                    Offer legal expertise
                                    </label>
                                    </div>
                                    <div class="checkbox">
                                        <label>
                                        <input type="checkbox" name="Capability" value="tech">
                                    Contribute my tech wizardry
                                    </label>
                                    </div>
                                    <div class="checkbox">
                                        <label>
                                        <input type="checkbox" name="Capability" value="raise money">
                                    Help the project raise money
                                    </label>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <div class="col-sm-offset-2 col-sm-4">
                                    <button type="submit" class="btn btn-success" id="offerHelpSubmit">Submit</button>
                                </div>
                            </div>
                        </form>
                    </div>
                    <!-- /panelBody -->
                </div>
                <!-- /panelinfo -->
            </div>
        </div>
        <!-- /row -->
    </div>
    <!-- /container -->

    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="col-sm-3">
                    <span class="glyphicon glyphicon glyphicon-envelope" aria-hidden="true"></span>
                    <a href="mailto:together@carpoolvote.com" target="_blank" class="">Contact</a>
                </div>
                <div class="col-sm-9">
                    <span class="glyphicon glyphicon glyphicon-info-sign" aria-hidden="true"></span> Keep updated with the project! <a href="http://eepurl.com/ccdDlv" target="_blank" class="">Sign up for our newsletter.</a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        (function(i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function() {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
        ga('create', 'UA-1858235-15', 'auto');
        ga('send', 'pageview');
    </script>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script type="text/javascript" src="res/jquery-dateFormat.min.js"></script>

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/1000hz-bootstrap-validator/0.11.5/validator.min.js"></script>

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <script type="text/javascript" src="res/jquery.datetimepicker.full.min.js"></script>

    <script type="text/javascript" src="res/nouislider.min.js"></script>

    <script type="text/javascript" src="res/wNumb.min.js"></script>

    <!-- dropdown for issue #37 - voting registrations per state -->
    <script type="text/javascript" src="res/dropdown.js"></script>

    <script>
        $(document).ready(function() {
            $('#btnNeedRide').click(function() {
                $('#pnlIntro').slideUp('fast');
                $('#pnlOfferRide').slideUp('fast');
                $('#pnlNeedRide').slideDown('fast');
            });

            $('#btnRiderCancel').click(function() {
                $('#pnlNeedRide').slideUp('fast');
                $('#pnlOfferRide').slideUp('fast');
                $('#pnlIntro').slideDown('fast');
                // Scroll to top of page.
                $("html, body").animate({
                    scrollTop: 0
                }, "slow");
            });

            $('#btnOfferRide').click(function() {
                $('#pnlIntro').slideUp('fast');
                $('#pnlNeedRide').slideUp('fast');
                $('#pnlOfferRide').slideDown('fast');
            });

            $('#btnOfferCancel').click(function() {
                $('#pnlOfferRide').slideUp('fast');
                $('#pnlNeedRide').slideUp('fast');
                $('#pnlIntro').slideDown('fast');
                // Scroll to top of page.
                $("html, body").animate({
                    scrollTop: 0
                }, "slow");
            });

            initializeCalAndTime();

            // Submit Function for offerRide (Driver) form.
            $('form[name="offerRide"]').submit(function() {
                document['offerRide'].action = "http://127.0.0.1:3000/driver";

                // CODE TO SUBMIT THE "OFFER A RIDE" FORM.
                console.log("Submitting Form For Driver!");

                // var dateTimeDiv = $(this).children('.date-container')
                //    .children('.date-time-pickers');
                // var availTimeElements = dateTimeDiv.children('.available-times-list').children();

                var availTimeElements = $('.available-times-list#driver-available-times').children()

                var availTimesObjectArray = [];

                $.each(availTimeElements, function(index, element) {
                    var outputDateTime = {};
                    try {
                        var splitText = $(element).text().split(', ');
                        //outputDateTime.month = splitText[1].split(' ')[0];
                        //outputDateTime.day = splitText[1].split(' ')[1];
                        var isoDate = new Date(splitText[1]);
                        isoDate.setFullYear(2016); // HACK!!!!  Specific to 2016 Elections!

                        var times = splitText[2].split(' ')[0];
                        //outputDateTime.startTime = times.split('-')[0];
                        //outputDateTime.endTime = times.split('-')[1];
                        var startTime = times.split('-')[0];
                        var endTime = times.split('-')[1];
                        // Handle am/pm putting the time in the afternoon, if needed.
                        var startHour = parseInt(startTime.split(':')[0]);
                        if (startTime.indexOf('pm', 0) !== -1) {
                            startHour = startHour + 12;
                        }
                        var startMinute = parseInt(startTime.split(':')[1].replace(/am/gi, '').replace(/pm/gi, ''));

                        // Handle am/pm putting the time in the afternoon, if needed.
                        var endHour = parseInt(endTime.split(':')[0]);
                        if (endTime.indexOf('pm', 0) !== -1) {
                            endHour = endHour + 12;
                        }
                        var endMinute = parseInt(endTime.split(':')[1].replace(/am/gi, '').replace(/pm/gi, ''));

                        // .replace(/am/gi, '').replace(/pm/gi, '')

                        var startDateTime = new Date(isoDate); // Both Start and End are on same date.
                        var endDateTime = new Date(isoDate); // Both Start and End are on same date.

                        startDateTime.setHours(startHour);
                        startDateTime.setMinutes(startMinute);
                        endDateTime.setHours(endHour);
                        endDateTime.setMinutes(endMinute);

                        var startDateTimeISO = startDateTime.toISOString();
                        var endDateTimeISO = endDateTime.toISOString();

                        outputDateTime.startDttm = startDateTimeISO;
                        outputDateTime.endDttm = endDateTimeISO;

                        console.log("Date Time pair:" + JSON.stringify(outputDateTime));

                    } catch (err) {
                        console.log("Error Caught!" + err);
                    }
                    availTimesObjectArray.push(outputDateTime);
                });

                // var hiddenTimeInput = dateTimeDiv.children('.hiddenJSONTimes');
                var hiddenTimeInput = $('.hiddenJSONTimes#driverJSONTimes');
                hiddenTimeInput.val(JSON.stringify(availTimesObjectArray));

                //var driverDateTimesJson = JSON.stringify(availTimesObjectArray);
                //$('#driverDateTimeRangesJSON').attr('value', driverDateTimesJson);

                return true;

            });

            // Submit Function for needRide (Rider) form.
            $('form[name="needRide"]').submit(function() {

                // change the action for the form.
                // https://api.carpoolvote.com/rider
                // to
                // http://127.0.0.1:3000/rider
                document['needRide'].action = "http://127.0.0.1:3000/rider";

                // CODE TO SUBMIT THE "NEED A RIDE" FORM.
                console.log("Submitting Form For Rider!");

                var dateTimeDiv = $(this).children('.date-container')
                    .children('.date-time-pickers');

                var availTimeElements = dateTimeDiv.children('.available-times-list').children();

                var availTimesObjectArray = [];

                debugger;

                $.each(availTimeElements, function(index, element) {
                    // TODO: Need to functionalize the version that exists on the driver side.
                    // This needs to do essentially the same work.
                    var outputDateTime = {};
                    console.log('Index:' + index + ' El:' + element);

                    //  var outputDateTime = {};
                    //  var splitText = $(element).text().split(', ');
                    //  outputDateTime.month = splitText[1].split(' ')[0];
                    //  outputDateTime.day = splitText[1].split(' ')[1];
                    //  var times = splitText[2].split(' ')[0];
                    //  outputDateTime.startTime = times.split('-')[0];
                    //  outputDateTime.endTime = times.split('-')[1];

                    outputDateTime.startDttm = $(element);
                    outputDateTime.endDttm = $(element);

                    availTimesObjectArray.push(outputDateTime);
                });

                // Sets the value of the hidden input for available times to a JSON string of
                // Available times with month, day, startTime, and endTime properties
                var hiddenTimeInput = dateTimeDiv.children('.hiddenJSONTimes');
                hiddenTimeInput.val(JSON.stringify(availTimesObjectArray));
                $('#riderDateTimeRangesJSON').attr('value', hiddenTimeInput);

            }); // end of submit for needRide

            $('form[name="offerHelp"]').submit(function() {
                document['offerHelp'].action = "http://127.0.0.1:3000/helper";

                console.log("Submitting Form For Helper!");
            }); // end of submit for offerHelp

        });

        // Hide question if not needed.
        $('#quesDriverOrgRegNumber').hide();

        // Handle Change in Different Form Attributes:
        console.log("Setup change functions for driver.");
        // Driver Details
        $('#offerArea').change(function() {
            changeOfferRideSubmit();
        }); // Starting ZIP code for Driver Pickups.

        $('#offerMiles').change(function() {
            changeOfferRideSubmit();
        }); // Radius for Driver

        $('#driverSeats').change(function() {
            changeOfferRideSubmit();
        });

        $('#driverWheelchair').change(function() {
            changeOfferRideSubmit();
        });

        $('#driverFirstName').change(function() {
            changeOfferRideSubmit();
        });

        $('#driverLastName').change(function() {
            changeOfferRideSubmit();
        });

        $('#driverEmail').change(function() {
            changeOfferRideSubmit();
        });

        $('#driverPhone').change(function() {
            changeOfferRideSubmit();
        });

        $('#officialDriver').change(function() {
            changeOfferRideSubmit();
        });

        //$('#IsOfficialDriver').change(changeOfferRideSubmit());
        // $('#offerCity').change(changeOfferRideSubmit());

        // Rider
        console.log("Setup change functions for rider");
        // $('#rideCity').change(changeNeedRideSubmit());
        $('#rideArea').change(function() {
            changeNeedRideSubmit();
        });
        $('#rideState').change(function() {
            changeNeedRideSubmit();
        });
        // $('#rideDestination').change(changeNeedRideSubmit());
        $('#rideSeats').change(function() {
            changeNeedRideSubmit();
        });
        $('#riderName').change(function() {
            changeNeedRideSubmit();
        });
        $('#ridePhone').change(function() {
            changeNeedRideSubmit();
        });

        $('.Timestamp').val(new Date());
        $('.redirect').val(window.location.origin + window.location.pathname + 'thanks.html');

        //var today = new Date().toISOString().slice(0, 10);
        var now = new Date();
        var currentDateString = $.format.date(now, "ddd, MMM d");
        $('#driver-button-date').text(currentDateString);
        $('#rider-button-date').text(currentDateString);

        $("#offerRideSubmit").prop("disabled", true);
        $("#offerHelpSubmit").prop("disabled", true);
        $("#needRideSubmit").prop("disabled", true);

        function changeNeedRideSubmit() {
            console.log("Rider Form Status Changed! - In changeNeedRideSubmit");

            $("#needRideSubmit").prop("disabled", true); // Mark it Disabled by Default.

            if (
                // $('#rideCity').val().length > 0 &&
                $('#rideArea').val().length > 0 &&
                $('#rideState').val().length > 0 &&
                // $('#rideDestination').val().length > 0 &&
                $('#rideSeats').val().length > 0 &&
                $('#riderIsPowerChairUser').val().length > 0 &&
                $('#riderFirstName').val().length > 0 &&
                $('#riderLastName').val().length > 0 &&
                (
                    $('#ridePhone').val().length > 0 ||
                    $('#rideEmail').val().length > 0
                ) &&
                // At least one available date/time range has been selected.
                $('#rider-available-times').children().length
            ) {
                $("#needRideSubmit").prop("disabled", false);
            } else {
                $("#needRideSubmit").prop("disabled", true);
            }
        }

        function changeOfferRideSubmit() {
            console.log("Driver Form Status Changed! - In changeOfferRideSubmit");
            $("#offerRideSubmit").prop("disabled", true); // Start off disabled.

            // Show the question if the "Official Driver" box is checked.
            if ($('#officialDriver').is(':checked')) {
                // Show div containing   officialDriverOrgRegNumber
                $('#quesDriverOrgRegNumber').show();
                // And mark the question as required.
                $('#officialDriverOrgRegNumber').prop("required", true);
            } else {
                $('#quesDriverOrgRegNumber').hide();
                // And mark the question as NOT required.
                $('#officialDriverOrgRegNumber').prop("required", false);
            }

            // Determine whether we can allow the form to be submitted.
            if (
                //$('#offerCity').val().length > 0 &&
                $('#offerArea').val().length > 0 &&
                $('#offerMiles').val().length > 0 &&
                // $('#offerState').val().length > 0 &&
                $('#driverSeats').val().length > 0 &&
                $('#driverFirstName').val().length > 0 &&
                $('#driverLastName').val().length > 0 &&
                $('#driverEmail').val().length > 0 &&
                (
                    $('#officialDriver').is(':checked') !== true ||
                    $('#officialDriverOrgRegNumber').val().length > 0
                ) &&
                // Checking if the list of appended available times has at least 1 item
                $('#driver-available-times').children().length
            ) {
                console.log("Enabling Submit Button for Driver")
                $("#offerRideSubmit").prop("disabled", false);
            } else {
                console.log("Disabling Submit Button for Driver")
                $("#offerRideSubmit").prop("disabled", true);
            }

            return true;
        } // end of changeOfferRideSubmit

        function initializeCalAndTime() {
            // Puts the datepicker and time range slider onto the page

            // Initialize datepickers
            // Max Date = Voting Day 2016!'
            $('.datepicker').datetimepicker({
                timepicker: false,
                format: 'l, M j',
                startDate: '2016/10/05',
                minDate: '2016/10/05',
                maxDate: '2016/11/08',
                yearStart: 2016,
                yearEnd: 2016,
                inline: true
            });

            // Must manually set the initial value of the calendar input
            // Needs to be today's date.
            var currDate = new Date();
            $('.datepicker').attr('value', currDate); // 'Tuesday, Oct 4'

            // Initialize time sliders
            $.each($('.time-range-slider'), function(index, slider) {
                noUiSlider.create(slider, {
                    start: [360, 1440],
                    connect: true,
                    step: 10,
                    range: {
                        'min': [360],
                        'max': [1320]
                    },
                    pips: {
                        mode: 'values',
                        density: 2,
                        values: [480, 720, 960, 1200, ],
                        format: {
                            to: formatTime
                        }
                    }
                });
            });

            // Add selected date and time to list of available times on button click
            $('.add-time-btn').click(function() {
                var startTime = formatTime($(this).siblings('.time-range-slider')[0].noUiSlider.get()[0]);
                var endTime = formatTime($(this).siblings('.time-range-slider')[0].noUiSlider.get()[1]);
                var date = $(this).siblings('.datepicker').val();
                var timeId = new Date().getTime();
                $(this).siblings('.available-times-list').append(
                    '<li class="' + timeId + '">' + date + ', ' + startTime + '-' + endTime + ' (<span class="remove-time">remove</span>)</li>'
                );
                $(this).siblings('.selected-dates').append(
                    '<input type="hidden" ' +
                    'class="' + timeId + '" ' +
                    'name="datetime[]" ' +
                    'value="' + date + ' ' + startTime + '/' + date + ' ' + endTime + '">'
                );
                $('.remove-time').click(function() {
                    var removeId = $(this).closest('li').attr('class');
                    $('.' + removeId).remove();
                    changeNeedRideSubmit();
                    changeOfferRideSubmit();
                });
                changeNeedRideSubmit();
                changeOfferRideSubmit();
            });

            $.each($('.time-range-slider'), function(index, slider) {
                slider.noUiSlider.on('update', function() {
                    var startTime = formatTime(slider.noUiSlider.get()[0]);
                    var endTime = formatTime(slider.noUiSlider.get()[1]);
                    $(slider).siblings('.add-time-btn').children('.button-time').text(startTime + '-' + endTime);
                });
            });

            $('.datepicker').change(function() {
                $(this).siblings('.add-time-btn').children('.button-date').text($(this).val());
            });
        }

        // The sliders work with the day in terms of minutes, this function translates the minutes
        // into readable format i.e. 4:34pm
        function formatTime(minutes) {
            var am = false;
            if (minutes < 720) {
                am = true;
            }
            var hour = Math.floor(minutes / 60);
            hour = minutes < 780 ? hour : hour - 12;
            var out_minutes = minutes % 60;
            out_minutes = out_minutes < 10 ? '0' + out_minutes : out_minutes.toString();
            var ampmString = am ? 'am' : 'pm';

            return hour + ':' + out_minutes + ampmString;
        }
    </script>
</body>

</html>