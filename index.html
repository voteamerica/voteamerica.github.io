<!DOCTYPE html>
<html lang="en-us">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Carpool Vote</title>
    <meta name="description" content="" property="description">
    <meta name="keywords" content="" property="keywords">

    <meta property="og:url" content="http://carpoolvote.com" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Carpool Vote - Vote America" />
    <meta property="og:description" content="Get a ride, or share a ride to vote, or register to vote. Support every American's right to vote!" />
    <meta property="og:image" content="http://carpoolvote/com/res/img/logo_fb.png?v=2" />

    <link rel="icon" href="favicon.ico">
    <link href='https://fonts.googleapis.com/css?family=Lato:400,300,700' rel='stylesheet' type='text/css'>

    <!-- <link type="text/css" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/css/bootstrap.min.css"> -->
    <link type="text/css" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
    <link type="text/css" rel="stylesheet" href="res/jquery.datetimepicker.min.css">
    <link type="text/css" rel="stylesheet" href="res/nouislider.min.css">
    <link type="text/css" rel="stylesheet" href="res/styles.css">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.15.1/moment.min.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <script>
        ! function(g, s, q, r, d) {
            r = g[r] = g[r] || function() {
                (r.q = r.q || []).push(
                    arguments)
            };
            d = s.createElement(q);
            q = s.getElementsByTagName(q)[0];
            d.src = '//d1l6p2sc9645hc.cloudfront.net/tracker.js';
            q.parentNode.
            insertBefore(d, q)
        }(window, document, 'script', '_gs');
        _gs('GSN-777832-U');
    </script>
</head>
<body>
    <!-- Load Facebook SDK for JavaScript -->
    <div id="fb-root"></div>
    <script>
        // Facebook SDK
        (function(d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) return;
            js = d.createElement(s);
            js.id = id;
            js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.5";
            fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));
    </script>

    <header class="header">
        <p class="support-banner">Need voter support? Call <a href="tel:18666878683">1-866-OURVOTE</a></p>
        <nav class="nav wrapper">
            <a href="/" class="logo">
                <img class="logo__img" src="res/img/logo.jpg" alt="Carpool Vote" width=709 height=187 />
            </a>

            <ul id="nav-links" class="nav__links">
                <li class="nav__item nav__story">
                    <a href="#story" class="nav__link">Our Story</a>
                </li>
                <li class="nav__item nav__how">
                    <a href="#howtoclaim" class="nav__link">How it works</a>
                </li>
                <li class="nav__item nav__support">
                    <a href="#support" class="nav__link">Support</a>
                </li>
            </ul>
            
            <ul class="social">
                <li role="presentation">
                    <a href="https://twitter.com/intent/tweet" class="twitter-mention-button" data-text="Need a ride to vote on election day? CarpoolVote.com can help! #election" data-related="" data-show-count="false">Tweet to help others find out about this!</a>
                    <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
                </li>
                <li role="presentation">
                    <div class="fb-share-button" data-href="http://carpoolvote.com?v=1" data-layout="button"></div>
                </li>
            </ul>
        </nav>
    </header>

    <div class="content">
        <div id="pnlIntro" class="intro wrapper">
            <div class="intro__banner">
                <h1 class="intro__title">Every American DESERVES a Vote</h1>
                <p class="intro__lead">We connect volunteer drivers with anybody who needs a ride to claim their vote.</p>
            </div>

            <ul class="ride">
                <li class="ride__panel needride" id="needride">
                    <h3 class="ride__title">Riders</h3>
                    <div class="ride__copy">
                        <p>Need assistance getting to where you need to be in order to vote?</p>
                        <p>Just fill in this form! We'll try and connect you with someone that can help.</p>
                    </div>
                    <p class="align-center">
                        <a href="#needride" class="button button--large" role="button" id="btnNeedRide">I need a ride</a>
                    </p>
                </li>
                <li class="ride__panel offerride" id="offerride">
                    <h3 class="ride__title">Drivers</h3>
                    <div class="ride__copy">
                        <p>Driving to vote, and have a spare seat? Want to help a fellow citizen exercise their democratic right?</p>
                        <p>Fill in this form and we'll try and connect you with someone that needs a ride in the same direction.</p>
                    </div>
                    <p class="align-center">
                        <a href="#offerride" class="button button--large button--alt" role="button" id="btnOfferRide">I can offer a ride</a>
                    </p>
                </li>
            </ul>
        </div>

        <div id="forms" class="forms wrapper">
            <div id="pnlNeedRide">
                <form name="needRide" action="https://api.carpoolvote.com/v1.1/rider" method="post" data-toggle="validator" role="form">
                    <input type="hidden" name="_redirect" class="redirect" value="http://carpoolvote.com" />
                    <input type="hidden" name="hiddenJSONTimes" value="" />
                    <div class="bannerbox">
                        <h3 class="bannerbox__title">I need a ride</h3>
                        <div class="bannerbox__content">
                            <fieldset class="date-time-pickers">
                                <legend>When and where do you need picking up?</legend>
                                <a class="close-form button--cancel" href="#pnlIntro">&times;</a>

                                <div class="form-column">
                                    <div class="form-group date-container">
                                        <label for="rider-date">Date available</label>
                                        <input type="text" class="riderdatepicker datepicker" id="rider-date" name="RiderDate" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="rider-time-slider">Time range available</label>
                                        <div id="rider-time-slider" class="time-range-slider"></div>
                                    </div>
                                    <div class="form-group">
                                        <button class="add-time-btn button" id="rider-add-time">&plus; Add <span class="button-date" id="rider-button-date"></span>, <span class="button-time" id="rider-button-time">6:00am-10:00pm</span></button>
                                        <small>(Add as many dates and time ranges as you like)</small>
                                    </div>
                                </div>

                                <div class="form-column">
                                    <div class="form-group">
                                        <label>Available times</label>
                                        <ul class="available-times-list" id="rider-available-times">
                                        </ul>
                                        <input type="hidden" class="hiddenJSONTimes" id="riderJSONTimes" name="AvailableRideTimesJSON" value="{}">
                                    </div>
                                </div>
                            </fieldset>

                            <fieldset>
                                <legend>Your location details</legend>

                                <div class="form-column">
                                    <div class="form-group">
                                        <label for="rideArea">Collection ZIP code</label>
                                        <input type="text" class="form-input" pattern="(\d{5}?)" id="rideArea" placeholder="Where you can meet the driver" name="RiderCollectionZIP" required data-error="Please enter the ZIP code where you would prefer to be picked up.">
                                        <div class="help-block with-errors"></div>
                                    </div>
                                    <div class="form-group">
                                        <label for="rideDestinationZIP">Destination ZIP code</label>
                                        <input type="text" class="form-input" id="rideDestinationZip" placeholder="Where you need a ride to" name="RiderDropOffZIP" data-error="Please enter the ZIP code of your local voting station." required>
                                        <div class="help-block with-errors"></div>
                                    </div>
                                </div>

                                <div class="form-column">
                                    <div class="form-group">
                                        <label>Check your polling location</label>
                                        <ul id="location-details" class="state-dropdown">
                                            <li>Loading&hellip;</li>
                                        </ul>
                                    </div>
                                </div>
                            </fieldset>

                            <fieldset>
                                <legend>Vehicle requirements</legend>
                                <p>Please let us know how how many people will need to travel together in the <b>same car</b>.</p>
                                <p>(To make it easier for us to match people, please complete an individual form if you do not need travel with anybody else.)</p>
                                <div class="form-group">
                                    <label for="rideSeats">Party size</label>
                                    <input type="number" class="form-input" id="rideSeats" placeholder="Number of non-wheelchair seats required" name="TotalPartySize" min=0 required>
                                    <div class="help-block with-errors"></div>
                                </div>
                                <div class="form-group checkbox">
                                    <label for="riderIsPowerChairUser">
                                        <input type="checkbox" name="NeedWheelchair" id="riderIsPowerChairUser"/> I am a powerchair user who needs an adapted van with a lift.
                                    </label>
                                </div>
                                <div class="form-group checkbox">
                                    <label for="rideReturn">
                                        <input type="checkbox" name="TwoWayTripNeeded" id="rideReturn" /> I need a two-way trip.
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label for="riderNotes">Notes</label>
                                    <textarea class="form-input" id="riderNotes" placeholder="Accommodation requirements e.g. service animal, assistance folding equipment, assistance entering/exiting the vehicle, etc." name="riderNotes" rows="4"></textarea>
                                </div>
                            </fieldset>

                            <fieldset>
                                <legend>Your details</legend>

                                <div class="form-group">
                                    <label for="riderFirstName">First name</label>
                                    <input type="text" class="form-input" id="riderFirstName" placeholder="Your first name" name="RiderFirstName" required>
                                    <div class="help-block with-errors"></div>
                                </div>
                                <div class="form-group">
                                    <label for="riderLastName">Last name</label>
                                    <input type="text" class="form-input" id="riderLastName" placeholder="Your last name" name="RiderLastName" required>
                                    <div class="help-block with-errors"></div>
                                </div>
                                <div class="form-group">
                                    <label for="riderEmail">Email address</label>
                                    <input type="email" class="form-input" id="riderEmail" placeholder="Email" name="RiderEmail" required>
                                    <div class="help-block with-errors"></div>
                                </div>
                                <div class="form-group">
                                    <label for="ridePhone">Phone number</label>
                                    <input type="tel" class="form-input" id="ridePhone" placeholder="Phone" name="RiderPhone" />
                                    <div class="help-block with-errors"></div>
                                </div>
                            </fieldset>

                            <div class="form-group checkbox">
                                <label for="RiderIsVulnerable">
                                    <input type="checkbox" id="RiderIsVulnerable" name="RiderIsVulnerable" /> Pensioner or disability: Please check this box if you are retired from work or you consider yourself to have a disability.
                                </label>
                            </div>
                            <div class="form-group checkbox">
                                <label for="RiderLegalConsent">
                                    <input type="checkbox" id="RiderLegalConsent" name="RiderLegalConsent" /> I understand that Carpool Vote will share my contact details with the driver if there’s a match. (Carpool Vote will not share personal details with anybody else, unless required by law, and will destroy them within three months of election day.)
                                </label>
                            </div>
                            <div class="form-group checkbox">
                                <label for="RiderWillNotTalkPolitics">
                                    <input type="checkbox" id="RiderWillNotTalkPolitics" name="RiderWillNotTalkPolitics" /> I understand that this service is open to any driver or rider - no matter what their personal background or beliefs. To help make sure that both the driver and I feel comfortable and safe, I promise that I will not discuss politics during the journey.
                                </label>
                            </div>
                            <div class="form-group checkbox">
                                <label for="inTouchRider">
                                    <input type="checkbox" id="inTouchRider" name="PleaseStayInTouch" checked /> We’d like to keep you updated from time to time about how the project is progressing. Please untick this box if you’d prefer us not to do this.
                                </label>
                                <small>Yes, please stay in touch!</small>
                            </div>
                            <div class="form-group">
                                <button type="submit" class="button button--large" id="needRideSubmit">Submit</button>
                                <a class="align-right close-form" href="#pnlIntro">Back</a>
                            </div>
                            <p class="panel-footer"><b>What happens next?</b> We'll record these details and contact you if someone can help.</p>
                        </div>
                    </div>
                </form>
            </div>
            <!-- pnlNeedRide -->

            <!-- http://40.117.45.210/driver/ -->
            <div id="pnlOfferRide">
                <form name="offerRide" action="https://api.carpoolvote.com/v1.1/driver" method="post" class="form-horizontal" data-toggle="validator" role="form">
                    <input type="hidden" class="redirect" name="_redirect" value="http://carpoolvote.com" />
                    <input type="hidden" name="hiddenJSONTimes" value="" />

                    <div class="bannerbox">
                        <h3 class="bannerbox__title">I can offer a ride</h3>
                        <div class="bannerbox__content">
                            <a class="close-form button--cancel" href="#pnlIntro">&times;</a>

                            <fieldset class="date-time-pickers">
                                <legend>When and where can you pick someone up?</legend>

                                <div class="form-column">
                                    <div class="form-group date-container">
                                        <label for="driver-date">Date available</label>
                                        <input type="text" class="driverdatepicker datepicker" id="driver-date" name="DriverDate" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="driver-time-slider">Time range available</label>
                                        <div id="driver-time-slider" class="time-range-slider"></div>
                                    </div>
                                    <div class="form-group">
                                        <button class="add-time-btn button" id="driver-add-time">&plus; Add <span class="button-date" id="driver-button-date"></span>, <span class="button-time" id="driver-button-time">6:00am-10:00pm</span></button>
                                        <small>(Add as many dates and time ranges as you like)</small>
                                    </div>
                                </div>

                                <div class="form-column">
                                    <div class="form-group">
                                        <label>Available times</label>
                                        <ul class="available-times-list" id="driver-available-times">
                                        </ul>
                                        <input type="hidden" class="hiddenJSONTimes" id="driverJSONTimes" name="AvailableDriveTimesJSON" value="{}">
                                    </div>
                                </div>
                            </fieldset>

                            <fieldset>
                                <legend>Location and vehicle</legend>

                                <div class="form-group">
                                    <label for="rideArea">Collection ZIP code</label>
                                    <input type="text" class="form-input" pattern="\d{5}-?(\d{4})?" id="offerArea" placeholder="Where you can collect the rider" name="DriverCollectionZIP" required data-error="Please enter the ZIP code where you would prefer to pick someone up.">
                                    <div class="help-block with-errors"></div>
                                    <p>I am willing to collect within a <input type="number" id="offerMiles" placeholder="0" name="DriverCollectionRadius" pattern="\d*" min="1" step="1" class="form-input form-input--inline" /> mile radius of this zip code.<p>
                                </div>
                                <div class="form-group">
                                    <label for="driverSeats">Seats</label>
                                    <input type="number" min="0" class="form-input" id="driverSeats" placeholder="How many seats can you offer?" name="SeatCount" required>
                                    <div class="help-block with-errors"></div>
                                </div>
                                <div class="form-group checkbox">
                                    <label for="driverWheelchair">
                                        <input type="checkbox" name="DriverCanLoadRiderWithWheelchair" id="driverWheelchair"/> I have an adapted van with space for a powerchair
                                    </label>
                                </div>
                                <div class="form-group checkbox">
                                    <label for="offerInsurance">
                                        <input type="checkbox" name="DriverHasInsurance" id="offerInsurance"/> I confirm the driver has insurance
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label for="driverLicence">Driver's license number</label>
                                    <input type="text" class="form-input" id="driverLicence" name="DriverLicenceNumber">
                                </div>
                            </fieldset>

                            <fieldset>
                                <legend>Your details</legend>

                                <div class="form-group">
                                    <label for="driverFirstName">First name</label>
                                    <input type="text" class="form-input" id="driverFirstName" placeholder="Your first name" name="DriverFirstName" required>
                                    <div class="help-block with-errors"></div>
                                </div>
                                <div class="form-group">
                                    <label for="driverLastName">Last name</label>
                                    <input type="text" class="form-input" id="driverLastName" placeholder="Your last name" name="DriverLastName" required>
                                    <div class="help-block with-errors"></div>
                                </div>
                                <div class="form-group">
                                    <label for="driverEmail">Email address</label>
                                    <input type="email" class="form-input" id="driverEmail" placeholder="Email address" name="DriverEmail" required>
                                    <div class="help-block with-errors"></div>
                                </div>
                                <div class="form-group">
                                    <label for="driverPhone">Phone number</label>
                                    <input type="tel" class="form-input" id="driverPhone" placeholder="Phone" name="DriverPhone" />
                                    <div class="help-block with-errors"></div>
                                </div>
                            </fieldset>

                            <div class="form-group checkbox">
                                <label for="officialDriver">
                                    <input type="checkbox" id="officialDriver" name="DrivingOnBehalfOfOrganization" /> I am driving in an official capacity on behalf of a registered organization
                                </label>
                            </div>
                            <div class="form-group" id="quesDriverOrgName" style="display:none">
                                <label for="officialDriverOrgName">Organization name</label>
                                <input type="text" class="form-input" id="officialDriverOrgName" name="DrivingOBOOrganizationName" data-error="The organisation name is required if the above box is checked.">
                                <div class="help-block with-errors"></div>
                            </div>
                            <div class="form-group checkbox">
                                <label for="legalThree">
                                    <input type="checkbox" id="legalThree" name="RidersCanSeeDriverDetails" /> I understand that Carpool Vote will share my contact details with the rider(s) if there’s a match. (Carpool Vote will not share personal details with anybody else, unless required by law, and will destroy them within three months of election day.)
                                </label>
                            </div>
                            <div class="form-group checkbox">
                                <label for="legalFour">
                                    <input type="checkbox" id="legalFour" name="DriverWillTakeCare" /> I understand that Carpool Vote provides introductions between riders and volunteer drivers who have signed up on the platform. I understand that anybody can sign up for a ride and Carpool Vote is unable to perform any background checks on people who use the platform. As with any other environment where I meet new people, I will take steps to keep myself and my possessions safe and accept that Carpool Vote cannot be responsible if anything goes wrong.
                                </label>
                            </div>
                            <div class="form-group checkbox">
                                <label for="legalFive">
                                    <input type="checkbox" id="legalFive" name="DriverWillNotTalkPolitics" /> I understand that this service is open to any driver or rider - no matter what their personal background or beliefs. To help make sure that both the driver and I feel comfortable and safe, I promise that I will not discuss politics during the journey.
                                </label>
                            </div>
                            <div class="form-group checkbox">
                                <label for="inTouchDriver">
                                    <input type="checkbox" id="inTouchDriver" name="PleaseStayInTouch" checked /> We’d like to keep you updated from time to time about how the project is progressing. Please untick this box if you’d prefer us not to do this.
                                </label>
                                <small>Yes, please stay in touch!</small>
                            </div>
                            <div class="form-group">
                                <button type="submit" class="button button--large" id="offerRideSubmit">Submit</button>
                                <a class="align-right close-form" href="#pnlIntro">Back</a>
                            </div>
                            <p class="panel-footer"><b>What happens next?</b> We'll record these details and contact you if there's a match.</p>
                        </div>
                    </div>
                </form>
            </div>
            <!-- /pnlOfferRide -->
        </div>

        <div class="about wrapper clearfix">
            <div id="grid" class="about__padding" data-columns>
                <div class="bannerbox" id="story">
                    <h3 class="bannerbox__title">Our Story</h3>
                    <div class="bannerbox__content">
                        <p>Carpool Vote connects volunteer drivers with anybody who needs a ride to claim their vote.</p>
                        <p>Many of our riders need a driver after losing full protection of the Voting Rights Act in 2013, as state governments no longer need permission to change election rules. The 2016 US Presidential election will be the first since this change has happened.</p>
                        <p>Under the new rules, voters in several states face new barriers to getting to the polls. Some of the obstacles that Carpool Vote aims to reduce include:</p>
                        <ul>
                            <li>Polling stations face closure in lower-income communities of color,</li>
                        	<li>Would-be voters have to travel out of town to get a photo ID to register,</li>
                        	<li>The periods available to register and vote become shorter, and</li>
                        	<li>Requesting an absentee ballot or voting by mail can be difficult in many states.</li>
                        </ul>
                        <p>These rules - along with others introduced since the change - affect everybody but especially people of color, people with disabilities, young people, elderly people, and women.</p>
                    </div>
                </div>
                <div class="bannerbox" id="howtoclaim">
                    <h3 class="bannerbox__title">How to Claim Your Vote</h3>
                    <div class="bannerbox__content">
                        <h4>Am I registered?</h4>
                        <p>Select your state check if you're registered to vote on the November 8 presidential election</p>
                        <ul id="state-select" class="state-dropdown drop-a">
                            <li>Loading&hellip;</li>
                        </ul>

                        <h4>Rock the Vote</h4>
                        <a href="https://www.rockthevote.com/?source=voteamerica" target="_rtv"><img class="align-right" src="res/img/rock.png" /></a>
                        <p><a href="https://www.rockthevote.com/?source=voteamerica" target="_rtv">Rock the Vote</a> has several online tools that simplify and demystify voter registration and elections. Follow the links below for more on how to claim your vote!
                        <ul>
                            <li><a href="https://www.rockthevote.com/register-to-vote/?source=voteamerica" target="_rtv">Register to vote!</a></li>
                            <li><a href="https://www.rockthevote.com/get-informed/elections/voter-id-requirements/state/" target="_rtv">Voter requirements</a></li>
                            <li><a href="https://www.rockthevote.com/get-informed/elections/find-your-polling-place/" target="_rtv">Find where to vote</a></li>
                            <li><a href="https://www.rockthevote.com/get-informed/elections/" target="_rtv">About elections</a></li>
                        </ul>
                    </div>
                </div>
                <div class="bannerbox" id="righttovote">
                    <h3 class="bannerbox__title">Voting support</h3>
                    <div class="bannerbox__content">
                        <a href="http://www.866ourvote.org/"><img class="align-right" src="res/img/election-protection.png" /></a>
                        <p>The <a href="http://www.866ourvote.org/">Election Protection Coalition</a> works around the clock to advance and defend your right to vote.</p>
                        <p>Report voting problems, and get voting relating info for your state.</p>
                        <ul>
                            <li>Visit <a href="http://www.866ourvote.org/">866ourvote.org</a></li>
                            <li>Call <a href="tel:8666878683">866-OUR-VOTE</a></li>
                        </ul>
                    </div>
                </div>
                <div class="bannerbox" id="support">
                    <h3 class="bannerbox__title">Can I help some other way?</h3>
                    <div class="bannerbox__content">
                        <p>Absolutely!</p>
                        <p>Please use the social media links to share this site, but also let us know if you can help out with any of this below </p>
                        <!--
                            https://api.cloudstitch.com/carpool/carpoolvote/datasources/sheet
                        -->
                        <form name="offerHelp" action="https://api.carpoolvote.com/v1.1/helper" method="post" data-toggle="validator" role="form">
                            <input type="hidden" name="_redirect" class="redirect" value="http://carpoolvote.com" />

                            <div class="form-group">
                                <label for="helpName">Name</label>
                                <input type="text" class="form-input" id="helpName" placeholder="Your name" name="Name" required>
                                <div class="help-block with-errors"></div>
                            </div>

                            <div class="form-group">
                                <label for="helpEmail">Email</label>
                                <input type="email" class="form-input" id="helpEmail" placeholder="Email" name="Email" required>
                                <div class="help-block with-errors"></div>
                            </div>

                            <div class="form-group checkbox checkbox--multi">
                                <p><b>I can:</b></p>
                                <label>
                                    <input type="checkbox" name="Capability" value="build links"/> Help build links with organizations and communities
                                </label>
                                <label>
                                    <input type="checkbox" name="Capability" value="community organize"/> Organize my own community
                                </label>
                                <label>
                                    <input type="checkbox" name="Capability" value="collaboration"/> Set up collaboration with my organization
                                </label>
                                <label>
                                    <input type="checkbox" name="Capability" value="awareness"/> Help get the word out
                                </label>
                                <label>
                                    <input type="checkbox" name="Capability" value="research"/> Do research
                                </label>
                                <label>
                                    <input type="checkbox" name="Capability" value="legal"/> Offer legal expertise
                                </label>
                                <label>
                                    <input type="checkbox" name="Capability" value="tech"/> Contribute my tech wizardry
                                </label>
                                <label>
                                    <input type="checkbox" name="Capability" value="raise money"/> Help the project raise money
                                </label>
                            </div>
                            <div class="form-group">
                                <button type="submit" class="button button--large" id="offerHelpSubmit">Submit</button>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="bannerbox" id="newsletter">
                    <h3 class="bannerbox__title">Newsletter</h3>
                    <div class="bannerbox__content">
                        <p>We continue to make improvements to our platform to make it effective for as many voters as possible. To keep updated with the project, <a href="http://eepurl.com/ccdDlv" target="_blank" class="">sign up for our newsletter</a>.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer class="footer">
        <div class="wrapper">
            <p class="footer__text">
                Contact us: <a class="footer__link" href="mailto:together@carpoolvote.com">together@carpoolvote.com</a>
            </p>
            <form class="newsletter">
                <label class="newsletter__label" for="signup">Sign up for our newsletter</label>
                <input class="newsletter__input" type="text" placeholder="email address">
                <input class="newsletter__submit" value="Join" type="submit">
            </form>
        </div>
    </footer>

    <script>
        (function(i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function() {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
        ga('create', 'UA-1858235-15', 'auto');
        ga('send', 'pageview');
    </script>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/salvattore/1.0.9/salvattore.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/1000hz-bootstrap-validator/0.11.5/validator.min.js"></script>

    <script type="text/javascript" src="res/jquery-dateFormat.min.js"></script>

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/1000hz-bootstrap-validator/0.11.5/validator.min.js"></script>

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <script type="text/javascript" src="res/jquery.datetimepicker.full.min.js"></script>

    <script type="text/javascript" src="res/nouislider.min.js"></script>

    <!-- dropdown for issue #37 - voting registrations per state -->
    <script type="text/javascript" src="dropdown.js"></script>

    <script>
        $(document).ready(function() {
            var formSubmitPath = "https://api.carpoolvote.com/v1.1/";
            // var formSubmitPath = "http://localhost:8000/";

            function scrollTo(offset, speed) {
                $('html, body').animate({
                    scrollTop: offset
                }, speed || 500);
            }

            $('#nav-links').on('click', 'a', function(e) {
                var anchor = $(this).attr('href');
                scrollTo($(anchor).offset().top, 999);
                e.preventDefault();
            });

            $('#btnNeedRide').on('click', function(e) {
                $('#pnlIntro, #pnlOfferRide').slideUp('fast');
                $('#pnlNeedRide').slideDown('fast');
                scrollTo(0);
                e.preventDefault();
            });

            $('#btnOfferRide').on('click', function(e) {
                $('#pnlIntro, #pnlNeedRide').slideUp('fast');
                $('#pnlOfferRide').slideDown('fast');
                scrollTo(0);
                e.preventDefault();
            });

            $('#forms').on('click', '.close-form', function(e) {
                $('#pnlNeedRide, #pnlOfferRide').slideUp('fast');
                $('#pnlIntro').slideDown('fast');
                scrollTo(0);
                e.preventDefault();
            });

            $('.available-times-list').on('click', '.remove-time', function() {
                $(this).parent().remove();
            });

            // Submit Function for offerRide (Driver) form.
            $('form[name="offerRide"]').on('submit', function() {
                document['offerRide'].action = "https://api.carpoolvote.com/v1.1/driver";
                // document['offerRide'].action = formSubmitPath + "driver";

                var availTimeElements = $('.available-times-list#driver-available-times').children()

                var availTimesObjectArray = [];

                var isoString = "";

                var inputElem;
                var startT, endT;

                $.each(availTimeElements, function(index, element) {
                    inputElem = $(element).find("input");

                    startT = inputElem.attr('data-start');
                    endT = inputElem.attr('data-end');

                    availTimesObjectArray.push(startT + '/' + endT);

                    // var outputDateTime = {};
                    // try {
                    //     var splitText = $(element).text().split(', ');
                    //     //outputDateTime.month = splitText[1].split(' ')[0];
                    //     //outputDateTime.day = splitText[1].split(' ')[1];
                    //     var isoDate = new Date(splitText[1]);
                    //     isoDate.setFullYear(2016); // HACK!!!!  Specific to 2016 Elections!

                    //     var times = splitText[2].split(' ')[0];
                    //     var startTime = times.split('-')[0];
                    //     var endTime = times.split('-')[1];
                    //     // Handle am/pm putting the time in the afternoon, if needed.
                    //     var startHour = parseInt(startTime.split(':')[0]);
                    //     if (startTime.indexOf('pm', 0) !== -1) {
                    //         startHour = startHour + 12;
                    //     }
                    //     var startMinute = parseInt(startTime.split(':')[1].replace(/am/gi, '').replace(/pm/gi, ''));

                    //     // Handle am/pm putting the time in the afternoon, if needed.
                    //     var endHour = parseInt(endTime.split(':')[0]);
                    //     if (endTime.indexOf('pm', 0) !== -1) {
                    //         endHour = endHour + 12;
                    //     }
                    //     var endMinute = parseInt(endTime.split(':')[1].replace(/am/gi, '').replace(/pm/gi, ''));

                    //     var startDateTime = new Date(isoDate); // Both Start and End are on same date.
                    //     var endDateTime = new Date(isoDate); // Both Start and End are on same date.

                    //     startDateTime.setHours(startHour);
                    //     startDateTime.setMinutes(startMinute);
                    //     endDateTime.setHours(endHour);
                    //     endDateTime.setMinutes(endMinute);

                    //     var startDateTimeISO = startDateTime.toISOString();
                    //     var endDateTimeISO = endDateTime.toISOString();

                    //     outputDateTime.startDttm = startDateTimeISO;
                    //     outputDateTime.endDttm = endDateTimeISO;

                    //     console.log("Date Time pair:" + JSON.stringify(outputDateTime));

                    // } catch (err) {
                    //     console.error(err);
                    // }
                    // availTimesObjectArray.push(outputDateTime);
                });

                isoString = availTimesObjectArray.join("|");

                // var hiddenTimeInput = dateTimeDiv.children('.hiddenJSONTimes');
                var hiddenTimeInput = $('.hiddenJSONTimes#driverJSONTimes');
                // hiddenTimeInput.val(JSON.stringify(availTimesObjectArray));
                hiddenTimeInput.val(isoString);

                //var driverDateTimesJson = JSON.stringify(availTimesObjectArray);
                //$('#driverDateTimeRangesJSON').attr('value', driverDateTimesJson);

                return true;

            });

            // Submit Function for needRide (Rider) form.
            $('form[name="needRide"]').on('submit', function() {
                document['needRide'].action = "https://api.carpoolvote.com/v1.1/rider";
                // document['needRide'].action = formSubmitPath + "rider";

                var dateTimeDiv = $(this).children('.date-container')
                    .children('.date-time-pickers');

                var availTimeElements = dateTimeDiv.children('.available-times-list').children();

                var availTimesObjectArray = [];

                $.each(availTimeElements, function(index, element) {
                    // TODO: Need to functionalize the version that exists on the driver side.
                    // This needs to do essentially the same work.
                    var outputDateTime = {};

                    outputDateTime.startDttm = $(element);
                    outputDateTime.endDttm = $(element);

                    availTimesObjectArray.push(outputDateTime);
                });

                // Sets the value of the hidden input for available times to a JSON string of
                // Available times with month, day, startTime, and endTime properties
                var hiddenTimeInput = dateTimeDiv.children('.hiddenJSONTimes');
                hiddenTimeInput.val(JSON.stringify(availTimesObjectArray));
                $('#riderDateTimeRangesJSON').attr('value', hiddenTimeInput);

            }); // end of submit for needRide

            $('form[name="offerHelp"]').on('submit', function() {
                document['offerHelp'].action = "https://api.carpoolvote.com/v1.1/helper";
                // document['offerHelp'].action = formSubmitPath + "helper";
            });
        });

        $('.redirect').val(window.location.origin + window.location.pathname + 'thanks.html');

        var currentDateString = $.format.date(new Date(), "ddd, MMM d");
        $('#driver-button-date, #rider-button-date').text(currentDateString);


        // Toggle Official Driver input when checkbox is ticked:
        $('#officialDriver').on('change', function() {
            var isOfficialDriver = $(this).is(':checked');
            $('#quesDriverOrgName').toggle(isOfficialDriver)
                .find('#officialDriverOrgName').prop('required', isOfficialDriver);
        });

        function initDatePicker($datetime, $datepicker) {
            // Initialize datepickers
            // Max Date = Voting Day 2016!'
            $datepicker.datetimepicker({
                timepicker: false,
                format: 'l, M j',
                startDate: '2016/10/05',
                minDate: '2016/10/05',
                maxDate: '2016/11/08',
                yearStart: 2016,
                yearEnd: 2016,
                inline: true
            });

            // Must manually set the initial value of the calendar input
            // Needs to be today's date.
            var currDate = new Date();
            $datepicker.attr('value', currDate);

            $datepicker.on('change', function() {
                $datetime.find('.button-date').text($(this).val());
            });
        }

        function initTimeSlider($datetime, slider) {
            noUiSlider.create(slider, {
                start: [360, 1440],
                connect: true,
                step: 10,
                range: {
                    'min': [360],
                    'max': [1320]
                },
                pips: {
                    mode: 'values',
                    density: 2,
                    values: [480, 720, 960, 1200, ],
                    format: {
                        to: formatTime
                    }
                }
            });

            slider.noUiSlider.on('update', function() {
                var sliderData = slider.noUiSlider.get();
                var startTime = formatTime(sliderData[0]);
                var endTime = formatTime(sliderData[1]);
                $datetime.find('.add-time-btn')
                    .children('.button-time')
                    .text(startTime + '-' + endTime);
            });
        }

        function addTimeBtnListener($datetime, $slider, $timesList, $datepicker) {
            $datetime.on('click', '.add-time-btn', function(e) {
                var sliderData = $slider[0].noUiSlider.get();
                var startTime = formatTime(sliderData[0]);
                var endTime = formatTime(sliderData[1]);

                var date = $datepicker.val();
                var niceDate = $.format.date(date, "ddd D MMMM");
                var timeId = new Date().getTime();

                var niceDateYear = $.format.date(date, "ddd D MMMM yyyy");
                var startDateTime = niceDateYear + ' ' + startTime;                    
                var endDateTime = niceDateYear + ' ' + endTime;                    

                var ndt = $.format.date(date, "dd MMMM yyyy");
                var sdt = moment(ndt);
                var edt = moment(ndt);

                var st = formatTime2(sliderData[0]);

                sdt = sdt.add(st.mins, 'm');
                sdt = sdt.add(st.hour, 'h');

                if (st.am === false) {
                    sdt = sdt.add(12, 'h');                    
                }

                var isoStart = sdt.toISOString();

                var et = formatTime2(sliderData[1]);

                edt = edt.add(et.mins, 'm');
                edt = edt.add(et.hour, 'h');

                if (et.am === false) {
                    edt = edt.add(12, 'h');                    
                }

                var isoEnd = edt.toISOString();


// 2016-10-01T08:00:00-0500/2016-10-01T10:00:00-0500

                var hiddenInput = 
                    '<input type="hidden" class="' + 
                            timeId + 
                            '" name="datetime[]" value="' + date + ' ' + 
                            startTime + '/' + date + ' ' + endTime + '" ' +
                            'data-start="' + isoStart + '" ' +
                            'data-end="' + isoEnd + '" ' +
                            '>';

                $timesList.append('<li class="' + timeId + '">' + niceDate + ', ' + startTime + '—' + endTime + hiddenInput + ' <button class="remove-time button--cancel" aria-label="Delete time">&times;</button></li>');
                e.preventDefault();
            });
        }

        $('.date-time-pickers').each(function() {
            // Add selected date and time to list of available times on button click
            var $slider = $(this).find('.time-range-slider'),
                $timesList = $(this).find('.available-times-list'),
                $datepicker = $(this).find('.datepicker');

            initDatePicker($(this), $datepicker);

            initTimeSlider($(this), $slider.get(0));
            
            addTimeBtnListener($(this), $slider, $timesList, $datepicker);
        });

        // The sliders work with the day in terms of minutes, this function translates the minutes
        // into readable format i.e. 4:34pm
        function formatTime(minutes) {
            var am = false;
            if (minutes < 720) {
                am = true;
            }
            var hour = Math.floor(minutes / 60);
            hour = minutes < 780 ? hour : hour - 12;
            var out_minutes = minutes % 60;
            out_minutes = out_minutes < 10 ? '0' + out_minutes : out_minutes.toString();
            var ampmString = am ? 'am' : 'pm';

            return hour + ':' + out_minutes + ampmString;
        }

        function formatTime2(minutes) {
            var am = false;
            if (minutes < 720) {
                am = true;
            }
            var hour = Math.floor(minutes / 60);
            hour = minutes < 780 ? hour : hour - 12;
            var out_minutes = minutes % 60;
            out_minutes = out_minutes < 10 ? '0' + out_minutes : out_minutes.toString();
            var ampmString = am ? 'am' : 'pm';

            var hour24 = 0;
            if (am) {

            }

            return {
                hour: hour,
                mins: out_minutes,
                am: am
            }
        }

    </script>
</body>

</html>
